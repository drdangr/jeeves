# Общая архитектура Дживса

## Назначение

Этот документ описывает архитектурную модель Дживса — локального ИИ-ассистента, построенного по принципу RAG (retrieval-augmented generation). Архитектура модульна, расширяема и устойчива к изменениям, с ориентацией на глубинное понимание пользовательского контента и помощь в его анализе, формализации и развитии.

## Основные компоненты

### 1. [[docs/architecture/ingest|Ingest]]

Обрабатывает входной контент (Markdown-файлы), разбивает его на чанки, генерирует эмбеддинги и поддерживает актуальность базы знаний.

### 2. [[docs/architecture/seeker|Seeker]]

Находит релевантные фрагменты знаний в базе по запросу пользователя, используя векторный поиск и метаданные.

### 3. [[docs/architecture/analyst|Analyst]]

Строит логически связанный, когнитивно целостный ответ на основе данных, полученных от Искателя.

### 4. [[docs/architecture/learner|Learner]]

Уточняет неполные или неудачные запросы, запоминает пользовательские правки, формирует механизмы долгосрочного обучения.

### 5. [[docs/architecture/interface|Interface]]

Обеспечивает взаимодействие пользователя с Дживсом через API, чат-интерфейс или консоль.

## Хранилища и данные

- **Контент** хранится в `C:/Work/Content`, доступен только локально.
    
- **Индексы и эмбеддинги** создаются и хранятся в виде базы, обслуживаемой модулем Ingest.
    
- **.env и config.yaml** — основные конфигурационные точки всей системы.
    

## Поток запроса (Query Flow)

1. Пользователь вводит запрос через Interface.
    
2. Seeker превращает его в эмбеддинг и находит релевантные чанки.
    
3. Analyst получает чанки и строит ответ.
    
4. Learner при необходимости уточняет, предлагает переформулировки или задаёт уточняющие вопросы.
    
5. Ответ возвращается пользователю.
    

## Принципы архитектуры

- Модульность: каждый компонент может обновляться отдельно.
    
- Интероперабельность: единый формат чанков, ссылок, тегов.
    
- Прозрачность: каждый шаг логируем и анализируем.
    
- Локальность: все операции выполняются на машине пользователя.
    

## В перспективе

- Добавление многопользовательского режима
    
- [[docs/notes/ideas/visual-navigation|Расширение интерфейса для визуальной навигации по контенту]]
    
- Контекстуальная генерация новых заметок, исходя из взаимодействия
    
- Поддержка аудио/визуального ввода