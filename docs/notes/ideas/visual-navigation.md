# Описание правой части интерфейса для отображения текущего документа и визуальной навигации по связанному с ним контенту

## Общий принцип этой части интерфейса

Эта секция интерфейса проектируется как модульная, и состоит из двух основных ячеек и полоски инструментов между ними:

- Верхняя ячейка — область отображения контента: Markdown-документ
    
- Нижняя ячейка — инструменты визуальной навигации.
    
- Между ними — полоска иконок с разными инструментами
    

Каждая ячейка может быть свёрнута по клику на значок свернуть в её углу.  
При этом оставшаяся занимает свободное место.

Соответственно может быть три состояния:

- Markdown-документ, под ним — иконки инструментов
    
- Markdown-документ, под ним — иконки инструментов, ниже окно активного инструмента
    
- Иконки, под ними — окно активного инструмента
    

Инструменты навигации активируются при нажатии по иконкам, ячейка визуальной навигации меняется в соответствии с выбранным инструментом.

---

## Инструменты визуальной навигации

### 1. Markdown-навигация и гиперссылки

- Основной инструмент взаимодействия с документами
    
- Поддержка переходов между файлами, предпросмотра, перекрёстных ссылок
    

### 2. Облако тегов

- Часто используемые теги визуализируются в облаке тегов
    
- Размер шрифта и цвет — по частоте использования и плотности связанного контента
    
- Кликабельно, можно фильтровать документы
    

### 3. Граф связей

- Отображает взаимосвязи между понятиями, тегами, персонажами и событиями
    
- Навигация по графу открывает соответствующий документ
    
- Поведение аналогично Obsidian Graph View, включая масштабирование, фильтрацию по тегам и раскрытие ближайших связей
    

### 4. Дерево знаний

- Иерархическое представление мира, тем и подтем
    
- Раскрывающиеся узлы, переход по клику
    

### 5. Временные шкалы и сюжетные ленты

- Хронологическое отображение ключевых событий, биографий, арок
    
- Единая временная линия
    
- Интеграция с модулем [[docs/architecture/ingest|Ingest]] (для временных меток) и [[docs/architecture/analyst|Analyst]] (для логических связей между событиями)
    

### 6. Интерактивная карта контекста ответа

- Показывает, из каких чанков собран ответ Дживса
    
- Каждый фрагмент можно раскрыть, исключить или заменить
    

---

## Встраивание в архитектуру

- Все инструменты являются частью правой панели интерфейса
    
- Активируются по иконке, сворачиваются или переключаются
    
- Полноценное описание размещения — см. [[docs/architecture/interface|раздел о структуре интерфейса Дживса]]
    

---

## Используемые технологии

- `d3.js`, `vis.js`, `graphviz`, `recharts`, `pyvis`
    
- HTML/JS-интеграция через Streamlit или веб-контейнер
    
- (в перспективе) WebGL / canvas-анимации для крупных графов
    
- Markdown-просмотр как универсальный механизм отображения контекста